# Админка Telegram Mini App

Django админка для управления Telegram мини-приложением с заданиями для пользователей и пар.

## Установка и запуск

1. Активируйте виртуальное окружение:
```bash
.\venv\Scripts\Activate.ps1
```

2. Установите зависимости (если еще не установлены):
```bash
pip install -r requirements.txt
```

3. Примените миграции:
```bash
python manage.py migrate
```

4. Создайте суперпользователя:
```bash
python manage.py createsuperuser
```

5. Запустите сервер разработки:
```bash
python manage.py runserver
```

6. Откройте админку в браузере:
```
http://127.0.0.1:8000/admin/
```

## Создание тестовых данных

Для заполнения базы данных тестовыми данными используйте команду:

```bash
python manage.py create_test_data
```

### Параметры команды:

- `--users N` - количество пользователей для создания (по умолчанию: 20)
- `--tasks N` - количество заданий для создания (по умолчанию: 50)

### Примеры:

```bash
# Создать 30 пользователей и 100 заданий
python manage.py create_test_data --users 30 --tasks 100

# Создать только 10 пользователей
python manage.py create_test_data --users 10
```

## Структура проекта

- `apps/admin_app/` - основное приложение с моделями и админкой
- `apps/admin_app/models.py` - модели данных
- `apps/admin_app/admin.py` - настройка админки Django
- `apps/admin_app/management/commands/` - команды управления
- `templates/admin/` - шаблоны админки
- `config/` - настройки Django проекта

## Модели данных

1. **User** - Пользователи Telegram
2. **TaskCategory** - Категории заданий (интересы)
3. **TaskSubcategory** - Подкатегории заданий
4. **Task** - Задания для пользователей
5. **TaskGenderTarget** - Целевая аудитория заданий
6. **CompletedTask** - Выполненные задания
7. **DailyUserTask** - Ежедневные задания пользователей
8. **Transaction** - Транзакции и платежи

## Дашборд

На главной странице админки отображается дашборд со статистикой:

- Выполненные задания (сегодня, вчера, за неделю, за месяц)
- Пользователи (всего, активных сегодня)
- Задания (всего, активных)

## Особенности админки

- Все интерфейсы на русском языке
- Интуитивно понятная навигация
- Фильтры и поиск по всем моделям
- Массовые действия для управления данными
- Кастомный дашборд со статистикой

